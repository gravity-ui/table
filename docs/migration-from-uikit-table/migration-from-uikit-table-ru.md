# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏ —Å Table (@gravity-ui/uikit) –Ω–∞ Table (@gravity-ui/table)

## –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–í–≤–µ–¥–µ–Ω–∏–µ](#–≤–≤–µ–¥–µ–Ω–∏–µ)
2. [–ö–æ–≥–¥–∞ —Å—Ç–æ–∏—Ç –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å](#–∫–æ–≥–¥–∞-—Å—Ç–æ–∏—Ç-–º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å)
3. [–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–∏-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞)
4. [–ë–∞–∑–æ–≤–∞—è –º–∏–≥—Ä–∞—Ü–∏—è](#–±–∞–∑–æ–≤–∞—è-–º–∏–≥—Ä–∞—Ü–∏—è)
5. [–ú–∏–≥—Ä–∞—Ü–∏—è —Å–≤–æ–π—Å—Ç–≤](#–º–∏–≥—Ä–∞—Ü–∏—è-—Å–≤–æ–π—Å—Ç–≤)
6. [–ú–∏–≥—Ä–∞—Ü–∏—è HOC](#–º–∏–≥—Ä–∞—Ü–∏—è-hoc)
7. [–ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏](#–Ω–æ–≤—ã–µ-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)
8. [–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã](#–ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ-–ø—Ä–∏–º–µ—Ä—ã)

---

## –í–≤–µ–¥–µ–Ω–∏–µ

`@gravity-ui/table` ‚Äî —ç—Ç–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–æ —Å–ª–æ–∂–Ω—ã–º–∏ —Ç–∞–±–ª–∏—á–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ –Ω–∞ –±–∞–∑–µ –º–æ—â–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ **TanStack Table v8** (—Ä–∞–Ω–µ–µ React Table).

### –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–π —Ç–∞–±–ª–∏—Ü—ã

**üöÄ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**

- –í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–æ–∫ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–µ—Å—è—Ç–∫–∞–º–∏ —Ç—ã—Å—è—á –∑–∞–ø–∏—Å–µ–π
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Ç–æ–ª—å–∫–æ –≤–∏–¥–∏–º—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫–∏ –±–ª–∞–≥–æ–¥–∞—Ä—è —É–º–Ω–æ–º—É –º–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞–Ω–∏—é

**üéØ –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**

- –í–ª–æ–∂–µ–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏ (Tree Table) —Å –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–π –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å—é
- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º –∫–æ–ª–æ–Ω–∫–∞–º
- –ó–∞–∫—Ä–µ–ø–ª–µ–Ω–∏–µ –∫–æ–ª–æ–Ω–æ–∫ —Å–ª–µ–≤–∞ –∏ —Å–ø—Ä–∞–≤–∞ (Pinning)
- –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –∫–æ–ª–æ–Ω–æ–∫ (Resizing)
- –ü–µ—Ä–µ—É–ø–æ—Ä—è–¥–æ—á–∏–≤–∞–Ω–∏–µ –∫–æ–ª–æ–Ω–æ–∫ drag-and-drop
- –†–∞—Å—à–∏—Ä—è–µ–º—ã–µ —Å—Ç—Ä–æ–∫–∏ (Expanding rows)
- –ú—É–ª—å—Ç–∏–∫–æ–ª–æ–Ω–æ—á–Ω–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
- –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã —Å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ —É—Å–ª–æ–≤–∏—è–º–∏

**üí™ –ì–∏–±–∫–æ—Å—Ç—å:**

- –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º —Ç–∞–±–ª–∏—Ü—ã
- Headless-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–ª—è –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–∏
- TypeScript –∏–∑ –∫–æ—Ä–æ–±–∫–∏ —Å –ø–æ–ª–Ω—ã–º —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- –ö–æ–º–ø–æ–∑–∏—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ —á–µ—Ä–µ–∑ –ø–ª–∞–≥–∏–Ω—ã

---

## –ö–æ–≥–¥–∞ —Å—Ç–æ–∏—Ç –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å

### ‚úÖ –ú–∏–≥—Ä–∏—Ä—É–π—Ç–µ, –µ—Å–ª–∏ –≤–∞–º –Ω—É–∂–Ω–æ:

- **–ë–æ–ª—å—à–∏–µ –æ–±—ä–µ–º—ã –¥–∞–Ω–Ω—ã—Ö** (>1000 —Å—Ç—Ä–æ–∫) ‚Äî –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è –æ–±–µ—Å–ø–µ—á–∏—Ç –ø–ª–∞–≤–Ω—É—é –ø—Ä–æ–∫—Ä—É—Ç–∫—É
- **–ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ** ‚Äî –≤—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –¥—Ä–µ–≤–æ–≤–∏–¥–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä
- **–°–ª–æ–∂–Ω–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è** ‚Äî –º—É–ª—å—Ç–∏–∫–æ–ª–æ–Ω–æ—á–Ω–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞, –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã
- **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å** ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–≤, –ø–µ—Ä–µ—É–ø–æ—Ä—è–¥–æ—á–∏–≤–∞–Ω–∏–µ, –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∏–µ –∫–æ–ª–æ–Ω–æ–∫
- **–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö** ‚Äî –≤–∏–∑—É–∞–ª—å–Ω–∞—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –ø–æ–ª—è–º
- **–†–∞—Å—à–∏—Ä—è–µ–º—ã–µ —Å—Ç—Ä–æ–∫–∏** ‚Äî –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –≤–Ω—É—Ç—Ä–∏ —Å—Ç—Ä–æ–∫
- **–°–µ—Ä–≤–µ—Ä–Ω–∞—è –ø–∞–≥–∏–Ω–∞—Ü–∏—è/—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞** ‚Äî –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
- **–ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è** ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –¥–∏–∑–∞–π–Ω –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ

### ‚ö†Ô∏è –û—Å—Ç–∞–≤–∞–π—Ç–µ—Å—å –Ω–∞ —Å—Ç–∞—Ä–æ–π —Ç–∞–±–ª–∏—Ü–µ, –µ—Å–ª–∏:

- –ü—Ä–æ—Å—Ç–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –±–µ–∑ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- –ú–∞–ª–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫ (<100)
- –ù–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –∫ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –ù–µ –Ω—É–∂–µ–Ω —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã –Ω–∞ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–∞

```bash
npm install @gravity-ui/table
# –∏–ª–∏
yarn add @gravity-ui/table
# –∏–ª–∏
pnpm add @gravity-ui/table
```

### –ò–º–ø–æ—Ä—Ç—ã

```typescript jsx
// –°—Ç–∞—Ä—ã–π –ø–æ–¥—Ö–æ–¥
import {Table} from '@gravity-ui/uikit';

// –ù–æ–≤—ã–π –ø–æ–¥—Ö–æ–¥
import {Table} from '@gravity-ui/table';
import type {ColumnDef} from '@gravity-ui/table/tanstack';
```

---

## –ë–∞–∑–æ–≤–∞—è –º–∏–≥—Ä–∞—Ü–∏—è

### –ü—Ä–æ—Å—Ç–µ–π—à–∏–π –ø—Ä–∏–º–µ—Ä

#### ‚ùå –ë—ã–ª–æ (@gravity-ui/uikit)

```typescript jsx
import {Table} from '@gravity-ui/uikit';

type User = {
  id: string;
  name: string;
  email: string;
}

const columns = [
  {id: 'name', name: 'Name'},
  {id: 'email', name: 'Email'},
];

const data: User[] = [
  {id: '1', name: 'John Doe', email: 'john@example.com'},
  {id: '2', name: 'Jane Smith', email: 'jane@example.com'},
];

function MyTable() {
  return (
    <Table
      columns={columns}
      data={data}
      getRowId={(item) => item.id}
    />
  );
}
```

#### ‚úÖ –°—Ç–∞–ª–æ (@gravity-ui/table)

```typescript jsx
import React from 'react';
import {Table, useTable} from '@gravity-ui/table';
import type {ColumnDef} from '@gravity-ui/table/tanstack';

type User = {
  id: string;
  name: string;
  email: string;
}

const columns: ColumnDef<User>[] = [
  {
    id: 'name',
    header: 'Name',
    accessorKey: 'name',
  },
  {
    id: 'email',
    header: 'Email',
    accessorKey: 'email',
  },
];

const data: User[] = [
  {id: '1', name: 'John Doe', email: 'john@example.com'},
  {id: '2', name: 'Jane Smith', email: 'jane@example.com'},
];

function MyTable() {
    const table = useTable({
        data,
        columns,
        getRowId: (row) => row.id,
    });

    return (
       <Table table={table} />
    );
}
```

### –ö–ª—é—á–µ–≤—ã–µ —Ä–∞–∑–ª–∏—á–∏—è

| –ê—Å–ø–µ–∫—Ç                  | @gravity-ui/uikit     | @gravity-ui/table              |
| ----------------------- | --------------------- | ------------------------------ |
| **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ–ª–æ–Ω–æ–∫** | `{id, name}`          | `ColumnDef<T>` —Å —Ç–∏–ø–∏–∑–∞—Ü–∏–µ–π    |
| **–ó–∞–≥–æ–ª–æ–≤–æ–∫**           | `name`                | `header`                       |
| **–î–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º**     | –ü–æ `id` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ | `accessorKey` –∏–ª–∏ `accessorFn` |
| **–¢–∏–ø–∏–∑–∞—Ü–∏—è**           | –ß–∞—Å—Ç–∏—á–Ω–∞—è             | –ü–æ–ª–Ω–∞—è —á–µ—Ä–µ–∑ generics          |
| **API**                 | –ö–∞—Å—Ç–æ–º–Ω—ã–π             | TanStack Table                 |

---

## –ú–∏–≥—Ä–∞—Ü–∏—è —Å–≤–æ–π—Å—Ç–≤

### –¢–∞–±–ª–∏—Ü–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è props

| @gravity-ui/uikit | @gravity-ui/table | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π                        |
| ----------------- | ----------------- | ---------------------------------- |
| `data`            | `data`            | ‚úÖ –ò–¥–µ–Ω—Ç–∏—á–Ω–æ                       |
| `columns`         | `columns`         | ‚ö†Ô∏è –î—Ä—É–≥–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (—Å–º. –Ω–∏–∂–µ)     |
| `getRowId`        | `getRowId`        | ‚úÖ –¢–∞ –∂–µ —Å–∏–≥–Ω–∞—Ç—É—Ä–∞                 |
| `verticalAlign`   | -                 | ‚ö†Ô∏è –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ CSS         |
| `wordWrap`        | -                 | ‚ö†Ô∏è –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ CSS –∫–æ–ª–æ–Ω–æ–∫ |
| `className`       | `className`       | ‚úÖ –ò–¥–µ–Ω—Ç–∏—á–Ω–æ                       |
| `edgePadding`     | -                 | ‚ö†Ô∏è –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ CSS         |
| `onRowClick`      | `onRowClick`      | ‚ö†Ô∏è –î—Ä—É–≥–∞—è —Å–∏–≥–Ω–∞—Ç—É—Ä–∞                |

### –î–µ—Ç–∞–ª—å–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è —Å–≤–æ–π—Å—Ç–≤

#### 1. `columns` ‚Äî –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ–ª–æ–Ω–æ–∫

##### ‚ùå –ë—ã–ª–æ

```typescript jsx
const columns = [
  {
    id: 'name',
    name: 'User Name',
    template: (item) => <strong>{item.name}</strong>,
    width: 200,
    align: 'left',
  },
  {
    id: 'age',
    name: 'Age',
    width: 100,
  },
];
```

##### ‚úÖ –°—Ç–∞–ª–æ

```typescript jsx
import React from 'react';
import {Table, useTable} from '@gravity-ui/table';
import type {ColumnDef} from '@gravity-ui/table/tanstack';

type User = {
    id: string;
    name: string;
    email: string;
}

const columns: ColumnDef<User>[] = [
  {
    id: 'name',
    header: 'User Name',
    accessorKey: 'name',
    cell: (info) => <strong>{info.getValue()}</strong>,
    size: 200,
    minSize: 100,
    maxSize: 400,
    meta: {
      align: 'left', // –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö —è—á–µ–π–∫–∞—Ö
    },
  },
  {
    id: 'age',
    header: 'Age',
    accessorKey: 'age',
    size: 100,
  },
];
```

**–ú–∞–ø–ø–∏–Ω–≥ —Å–≤–æ–π—Å—Ç–≤ –∫–æ–ª–æ–Ω–∫–∏:**

| –°—Ç–∞—Ä–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ | –ù–æ–≤–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ  | –û–ø–∏—Å–∞–Ω–∏–µ               |
| --------------- | --------------- | ---------------------- |
| `name`          | `header`        | –ó–∞–≥–æ–ª–æ–≤–æ–∫ –∫–æ–ª–æ–Ω–∫–∏      |
| `template`      | `cell`          | –†–µ–Ω–¥–µ—Ä —Ñ—É–Ω–∫—Ü–∏—è —è—á–µ–π–∫–∏  |
| `width`         | `size`          | –†–∞–∑–º–µ—Ä –∫–æ–ª–æ–Ω–∫–∏ (px)    |
| -               | `minSize`       | –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä     |
| -               | `maxSize`       | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä    |
| `align`         | -               | –°—Ç–∏–ª–∏–∑—É–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é    |
| `sortable`      | `enableSorting` | –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ |
| `primary`       | -               | –°—Ç–∏–ª–∏–∑—É–µ—Ç—Å—è –≤—Ä—É—á–Ω—É—é    |

#### 2. `verticalAlign` ‚Äî –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ

##### ‚ùå –ë—ã–ª–æ

```typescript jsx
import {Table} from '@gravity-ui/uikit';

function MyTable() {
  return (
    <Table
      verticalAlign="top"
      data={data}
      columns={columns}
      getRowId={(item) => item.id}
    />
  );
}
```

##### ‚úÖ –°—Ç–∞–ª–æ

```typescript jsx
import React from 'react';
import {Table, useTable} from '@gravity-ui/table';

// –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ className
function MyTable() {
    const table = useTable({
        data,
        columns,
    });

    return (
        <Table table={table} className="my-table" />
    );
}
```

```scss
// –í SCSS
.my-table {
  td {
    vertical-align: top;
  }
}
```

```typescript jsx
import React from 'react';
import type {ColumnDef} from '@gravity-ui/table/tanstack';

// –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –∫–æ–ª–æ–Ω–æ–∫
const columns: ColumnDef<User>[] = [
  {
    id: 'name',
    header: 'Name',
    accessorKey: 'name',
    cell: (info) => (
      <div style={{display: 'flex', alignItems: 'flex-start'}}>
        {info.getValue()}
      </div>
    ),
  },
];
```

#### 3. `wordWrap` ‚Äî –ü–µ—Ä–µ–Ω–æ—Å —Ç–µ–∫—Å—Ç–∞

##### ‚ùå –ë—ã–ª–æ

```typescript jsx
import {Table} from '@gravity-ui/uikit';

function MyTable() {
  return (
    <Table
      wordWrap="break-word"
      data={data}
      columns={columns}
      getRowId={(item) => item.id}
    />
  );
}
```

##### ‚úÖ –°—Ç–∞–ª–æ

```typescript jsx
import type {ColumnDef} from '@gravity-ui/table/tanstack';

const columns: ColumnDef<User>[] = [
  {
    id: 'description',
    header: 'Description',
    accessorKey: 'description',
    cell: (info) => (
      <div style={{
        wordWrap: 'break-word',
        whiteSpace: 'normal',
        maxWidth: '300px',
      }}>
        {info.getValue()}
      </div>
    ),
  },
];
```

```typescript jsx
import type {ColumnDef} from '@gravity-ui/table/tanstack';

// –ò–ª–∏ —á–µ—Ä–µ–∑ CSS –∫–ª–∞—Å—Å
const columns: ColumnDef<User>[] = [
  {
    id: 'description',
    header: 'Description',
    accessorKey: 'description',
    meta: {
      className: 'wrapped-cell',
    },
  },
];
```

```scss
// SCSS
.wrapped-cell {
  word-wrap: break-word;
  white-space: normal;
}
```

#### 4. `onRowClick` ‚Äî –ö–ª–∏–∫ –ø–æ —Å—Ç—Ä–æ–∫–µ

##### ‚ùå –ë—ã–ª–æ

```typescript jsx
import {Table} from '@gravity-ui/uikit';

function MyTable() {
  return (
    <Table
      data={data}
      columns={columns}
      getRowId={(item) => item.id}
      onRowClick={(item, index, event) => {
        console.log('Clicked:', item);
      }}
    />
  );
}
```

##### ‚úÖ –°—Ç–∞–ª–æ

```typescript jsx
import React from 'react';
import {Table, useTable} from '@gravity-ui/table';

function MyTable() {
    const table = useTable({
        data,
        columns,
    });

    return (
        <Table
            table={table}
            onRowClick={(row, event) => {
                console.log('Clicked:', row.original);
            }}
        />
    );
}
```

#### 5. `edgePadding` ‚Äî –û—Ç—Å—Ç—É–ø—ã –ø–æ –∫—Ä–∞—è–º

##### ‚ùå –ë—ã–ª–æ

```typescript jsx
import {Table} from '@gravity-ui/uikit';

function MyTable() {
  return (
    <Table
      edgePadding={true}
      data={data}
      columns={columns}
      getRowId={(item) => item.id}
    />
  );
}
```

##### ‚úÖ –°—Ç–∞–ª–æ

```typescript jsx
import React from 'react';
import {Table, useTable} from '@gravity-ui/table';

function MyTable() {
    const table = useTable({
        data,
        columns,
    });

    return (
        <Table table={table} className="table-with-padding" />
    );
}
```

```scss
// SCSS
.table-with-padding {
  td:first-child,
  th:first-child {
    padding-left: 20px;
  }

  td:last-child,
  th:last-child {
    padding-right: 20px;
  }
}
```

---

## –ú–∏–≥—Ä–∞—Ü–∏—è HOC

–í —Å—Ç–∞—Ä–æ–π —Ç–∞–±–ª–∏—Ü–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Ä–∞—Å—à–∏—Ä—è–ª–∞—Å—å —á–µ—Ä–µ–∑ Higher-Order Components (HOC). –í –Ω–æ–≤–æ–π —Ç–∞–±–ª–∏—Ü–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –±–æ–ª–µ–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥: **–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ TanStack Table + —Ö—É–∫–∏ + –∫–æ–º–ø–æ–∑–∏—Ü–∏—è**.

### 1. `withTableSorting` ‚Äî –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞

#### ‚ùå –ë—ã–ª–æ

```typescript jsx
import React from 'react';
import {Table, withTableSorting} from '@gravity-ui/uikit';

const TableWithSorting = withTableSorting(Table);

function MyTable() {
  const [sortState, setSortState] = React.useState([
    {column: 'name', order: 'asc'}
  ]);

  return (
    <TableWithSorting
      data={data}
      columns={columns}
      defaultSortState={sortState}
      onSortStateChange={setSortState}
    />
  );
}
```

#### ‚úÖ –°—Ç–∞–ª–æ

```typescript jsx
import React from 'react';
import {Table, useTable} from '@gravity-ui/table';
import type {ColumnDef, SortingState} from '@gravity-ui/table/tanstack';

function MyTable() {
  const [sorting, setSorting] = React.useState<SortingState>([
    {id: 'name', desc: false}
  ]);

  const columns: ColumnDef<User>[] = [
    {
      id: 'name',
      header: 'Name',
      accessorKey: 'name',
      enableSorting: true, // –í–∫–ª—é—á–∏—Ç—å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É
    },
    {
      id: 'email',
      header: 'Email',
      accessorKey: 'email',
      enableSorting: true,
    },
    {
      id: 'status',
      header: 'Status',
      accessorKey: 'status',
      enableSorting: false, // –û—Ç–∫–ª—é—á–∏—Ç—å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É
    },
  ];

  const table = useTable({
    data,
    columns,
    enableSorting: true, // –ì–ª–æ–±–∞–ª—å–Ω–æ–µ –≤–∫–ª—é—á–µ–Ω–∏–µ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
    manualSorting: false, // false = –∫–ª–∏–µ–Ω—Ç—Å–∫–∞—è, true = —Å–µ—Ä–≤–µ—Ä–Ω–∞—è
    state: {
      sorting,
    },
    onSortingChange: setSorting,
  });

  return (
    <Table table={table} />
  );
}
```

**üéâ –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏:**

```typescript jsx
import React from 'react';
import {Table, useTable} from '@gravity-ui/table';
import type {ColumnDef, SortingState} from '@gravity-ui/table/tanstack';

// –ú—É–ª—å—Ç–∏–∫–æ–ª–æ–Ω–æ—á–Ω–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
function AdvancedSorting() {
  const [sorting, setSorting] = React.useState<SortingState>([
    {id: 'department', desc: false},
    {id: 'name', desc: false},
  ]);

  const table = useTable({
    data,
    columns,
    enableSorting: true,
    enableMultiSort: true, // –ú—É–ª—å—Ç–∏—Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —á–µ—Ä–µ–∑ Shift+Click
    maxMultiSortColCount: 3, // –ú–∞–∫—Å–∏–º—É–º 3 –∫–æ–ª–æ–Ω–∫–∏
    state: {sorting},
    onSortingChange: setSorting,
  });

  return (
    <Table table={table} />
  );
}

// –ö–∞—Å—Ç–æ–º–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
const columns: ColumnDef<User>[] = [
  {
    id: 'name',
    header: 'Name',
    accessorKey: 'name',
    sortingFn: (rowA, rowB) => {
      // –ö–∞—Å—Ç–æ–º–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
      const a = rowA.original.name.toLowerCase();
      const b = rowB.original.name.toLowerCase();
      return a.localeCompare(b);
    },
  },
];

// –°–µ—Ä–≤–µ—Ä–Ω–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
function ServerSideSorting() {
  const [sorting, setSorting] = React.useState<SortingState>([]);
  const [data, setData] = React.useState<User[]>([]);

  React.useEffect(() => {
    // –ó–∞–ø—Ä–æ—Å –Ω–∞ —Å–µ—Ä–≤–µ—Ä —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
    fetchData({
      sortBy: sorting[0]?.id,
      sortOrder: sorting[0]?.desc ? 'desc' : 'asc',
    }).then(setData);
  }, [sorting]);

  const table = useTable({
    data,
    columns,
    enableSorting: true,
    manualSorting: true, // –°–µ—Ä–≤–µ—Ä–Ω–∞—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
    state: {sorting},
    onSortingChange: setSorting,
  });

  return (
    <Table table={table} />
  );
}
```

---

### 2. `withTableSelection` ‚Äî –í—ã–±–æ—Ä —Å—Ç—Ä–æ–∫

#### ‚ùå –ë—ã–ª–æ

```typescript jsx
import React from 'react';
import {Table, withTableSelection} from '@gravity-ui/uikit';

const TableWithSelection = withTableSelection(Table);

function MyTable() {
  const [selectedIds, setSelectedIds] = React.useState<string[]>([]);

  return (
    <TableWithSelection
      data={data}
      columns={columns}
      selectedIds={selectedIds}
      onSelectionChange={setSelectedIds}
    />
  );
}
```

#### ‚úÖ –°—Ç–∞–ª–æ

```typescript jsx
import React from 'react';
import {Table, useTable} from '@gravity-ui/table';
import type {ColumnDef, RowSelectionState} from '@gravity-ui/table/tanstack';

function MyTable() {
  const [rowSelection, setRowSelection] = React.useState<RowSelectionState>({});

  const columns: ColumnDef<User>[] = [
    {
      id: 'select',
      header: ({table}) => (
        <input
          type="checkbox"
          checked={table.getIsAllRowsSelected()}
          indeterminate={table.getIsSomeRowsSelected()}
          onChange={table.getToggleAllRowsSelectedHandler()}
        />
      ),
      cell: ({row}) => (
        <input
          type="checkbox"
          checked={row.getIsSelected()}
          disabled={!row.getCanSelect()}
          onChange={row.getToggleSelectedHandler()}
        />
      ),
      size: 50,
      enableSorting: false,
      enableResizing: false,
    },
    {
      id: 'name',
      header: 'Name',
      accessorKey: 'name',
    },
    // ... –¥—Ä—É–≥–∏–µ –∫–æ–ª–æ–Ω–∫–∏
  ];

  // –ü–æ–ª—É—á–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏
  const selectedRows = React.useMemo(() => {
    return Object.keys(rowSelection)
      .filter(key => rowSelection[key])
      .map(id => data.find(row => row.id === id));
  }, [rowSelection, data]);

  const table = useTable({
    data,
    columns,
    enableRowSelection: true, // –ì–ª–æ–±–∞–ª—å–Ω–æ–µ –≤–∫–ª—é—á–µ–Ω–∏–µ
    // enableRowSelection: (row) => row.original.selectable, // –£—Å–ª–æ–≤–Ω–æ–µ –≤–∫–ª—é—á–µ–Ω–∏–µ
    state: {
      rowSelection,
    },
    onRowSelectionChange: setRowSelection,
    getRowId: (row) => row.id,
  });

  return (
    <>
      <div>
        Selected: {Object.keys(rowSelection).filter(key => rowSelection[key]).length}
      </div>
      <Table table={table} />
    </>
  );
}
```

**üéâ –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –≤—ã–±–æ—Ä–∞:**

```typescript jsx
import React from 'react';
import {Table, useTable} from '@gravity-ui/table';
import type {ColumnDef, RowSelectionState} from '@gravity-ui/table/tanstack';

// –£—Å–ª–æ–≤–Ω—ã–π –≤—ã–±–æ—Ä —Å—Ç—Ä–æ–∫
function ConditionalSelection() {
  const [rowSelection, setRowSelection] = React.useState<RowSelectionState>({});

  const table = useTable({
    data,
    columns,
    enableRowSelection: (row) => {
      // –ú–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å —Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
      return row.original.status === 'active';
    },
    state: {rowSelection},
    onRowSelectionChange: setRowSelection,
  });

  return <Table table={table} />;
}

// –û–¥–∏–Ω–æ—á–Ω—ã–π –≤—ã–±–æ—Ä (radio-—Ä–µ–∂–∏–º)
function SingleSelection() {
  const [rowSelection, setRowSelection] = React.useState<RowSelectionState>({});

  const columns: ColumnDef<User>[] = [
    {
      id: 'select',
      cell: ({row}) => (
        <input
          type="radio"
          name="row-selection"
          checked={row.getIsSelected()}
          onChange={() => {
            // –°–±—Ä–æ—Å–∏—Ç—å –≤—Å–µ –∏ –≤—ã–±—Ä–∞—Ç—å —Ç–µ–∫—É—â—É—é
            setRowSelection({[row.id]: true});
          }}
        />
      ),
    },
    // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∫–æ–ª–æ–Ω–∫–∏
  ];

  const table = useTable({
    data,
    columns,
    enableRowSelection: true,
    enableMultiRowSelection: false, // –û–¥–∏–Ω–æ—á–Ω—ã–π –≤—ã–±–æ—Ä
    state: {rowSelection},
    onRowSelectionChange: setRowSelection,
  });

  return (
    <Table table={table} />
  );
}

// –í—ã–±–æ—Ä —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π (–≤—ã–±—Ä–∞—Ç—å –≤—Å—é –≥—Ä—É–ø–ø—É)
function GroupSelection() {
  const [rowSelection, setRowSelection] = React.useState<RowSelectionState>({});

  const table = useTable({
    data,
    columns,
    enableRowSelection: true,
    enableSubRowSelection: true, // –í—ã–±–æ—Ä –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —Å—Ç—Ä–æ–∫
    state: {rowSelection},
    onRowSelectionChange: setRowSelection,
  });

  return (
    <Table table={table} />
  );
}
```

---

### 3. `withTableActions` ‚Äî –î–µ–π—Å—Ç–≤–∏—è —Å–æ —Å—Ç—Ä–æ–∫–∞–º–∏

#### ‚ùå –ë—ã–ª–æ

```typescript jsx
import React from 'react';
import {Table, withTableActions} from '@gravity-ui/uikit';

const TableWithActions = withTableActions(Table);

function MyTable() {
  const getRowActions = (item: User) => [
    {
      text: 'Edit',
      handler: () => console.log('Edit', item),
    },
    {
      text: 'Delete',
      handler: () => console.log('Delete', item),
      theme: 'danger',
    },
  ];

  return (
    <TableWithActions
      data={data}
      columns={columns}
      getRowActions={getRowActions}
    />
  );
}
```

#### ‚úÖ –°—Ç–∞–ª–æ

```typescript jsx
import React from 'react';
import {Table, useTable} from '@gravity-ui/table';
import {Button, DropdownMenu} from '@gravity-ui/uikit';
import type {ColumnDef} from '@gravity-ui/table/tanstack';

function MyTable() {
  const columns: ColumnDef<User>[] = [
    {
      id: 'name',
      header: 'Name',
      accessorKey: 'name',
    },
    {
      id: 'email',
      header: 'Email',
      accessorKey: 'email',
    },
    {
      id: 'actions',
      header: 'Actions',
      cell: ({row}) => {
        const user = row.original;

        return (
          <DropdownMenu
            items={[
              {
                text: 'Edit',
                action: () => handleEdit(user),
              },
              {
                text: 'Delete',
                action: () => handleDelete(user),
                theme: 'danger',
              },
            ]}
          >
            <Button view="flat" size="s">
              Actions
            </Button>
          </DropdownMenu>
        );
      },
      size: 100,
      enableSorting: false,
    },
  ];

  const handleEdit = (user: User) => {
    console.log('Edit', user);
  };

  const handleDelete = (user: User) => {
    console.log('Delete', user);
  };

  const table = useTable({
    data,
    columns,
  });

  return (
    <Table table={table} />
  );
}
```

---

### 4. `withTableSettings` ‚Äî –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–ª–æ–Ω–æ–∫

#### ‚ùå –ë—ã–ª–æ

```typescript jsx
import React from 'react';
import {Table, withTableSettings} from '@gravity-ui/uikit';

const TableWithSettings = withTableSettings(Table);

function MyTable() {
  const [settings, setSettings] = React.useState({
    visibleColumns: ['name', 'email'],
    columnOrder: ['name', 'email', 'phone'],
  });

  return (
    <TableWithSettings
      data={data}
      columns={columns}
      settings={settings}
      onSettingsChange={setSettings}
    />
  );
}
```

#### ‚úÖ –°—Ç–∞–ª–æ

```typescript jsx
import React from 'react';
import {Table, useTable} from '@gravity-ui/table';
import type {ColumnDef, VisibilityState, ColumnOrderState} from '@gravity-ui/table/tanstack';

function MyTable() {
  const [columnVisibility, setColumnVisibility] = React.useState<VisibilityState>({
    phone: false, // –°–∫—Ä—ã—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
  });

  const [columnOrder, setColumnOrder] = React.useState<ColumnOrderState>([
    'name',
    'email',
    'phone',
  ]);

  const columns: ColumnDef<User>[] = [
    {
      id: 'name',
      header: 'Name',
      accessorKey: 'name',
    },
    {
      id: 'email',
      header: 'Email',
      accessorKey: 'email',
    },
    {
      id: 'phone',
      header: 'Phone',
      accessorKey: 'phone',
      enableHiding: true, // –ú–æ–∂–Ω–æ —Å–∫—Ä—ã—Ç—å
    },
  ];

  const table = useTable({
    data,
    columns,
    enableHiding: true, // –í–∫–ª—é—á–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–∫—Ä—ã—Ç–∏—è
    state: {
      columnVisibility,
      columnOrder,
    },
    onColumnVisibilityChange: setColumnVisibility,
    onColumnOrderChange: setColumnOrder,
  });

  return (
    <>
      {/* –ü–∞–Ω–µ–ª—å –Ω–∞—Å—Ç—Ä–æ–µ–∫ */}
      <div>
        <h4>Show/Hide Columns:</h4>
        {columns.map((column) => (
          <label key={column.id}>
            <input
              type="checkbox"
              checked={columnVisibility[column.id!] !== false}
              onChange={(e) => {
                setColumnVisibility(prev => ({
                  ...prev,
                  [column.id!]: e.target.checked,
                }));
              }}
            />
            {column.header as string}
          </label>
        ))}
      </div>

      <Table table={table} />
    </>
  );
}
```

**üéâ –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–ª–æ–Ω–æ–∫:**

```typescript jsx
// –ü–æ–ª–Ω–∞—è –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–ª–æ–Ω–∫–∞–º–∏
import React from 'react';
import {Table, useTable} from '@gravity-ui/table';
import {Button, Popover, Checkbox, Flex, Icon} from '@gravity-ui/uikit';
import {Gear} from '@gravity-ui/icons';
import type {ColumnDef, VisibilityState, ColumnOrderState} from '@gravity-ui/table/tanstack';

function TableWithFullSettings() {
  const [columnVisibility, setColumnVisibility] = React.useState<VisibilityState>({});
  const [columnOrder, setColumnOrder] = React.useState<ColumnOrderState>([]);
  const [columnSizing, setColumnSizing] = React.useState({});

  const table = useTable({
    data,
    columns,
    enableHiding: true,
    enableColumnResizing: true, // –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–≤
    columnResizeMode: 'onChange',
    state: {
      columnVisibility,
      columnOrder,
      columnSizing,
    },
    onColumnVisibilityChange: setColumnVisibility,
    onColumnOrderChange: setColumnOrder,
    onColumnSizingChange: setColumnSizing,
  });

  return (
    <div>
      <Flex justifyContent="space-between" gap={2}>
        <h2>Users Table</h2>

        {/* –ö–Ω–æ–ø–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ */}
        <Popover
          content={
            <ColumnSettingsPanel
              columns={columns}
              columnVisibility={columnVisibility}
              onVisibilityChange={setColumnVisibility}
              columnOrder={columnOrder}
              onOrderChange={setColumnOrder}
            />
          }
        >
          <Button view="outlined" size="m">
            <Icon data={Gear} /> Settings
          </Button>
        </Popover>
      </Flex>

      <Table table={table} />
    </div>
  );
}

// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–∞–Ω–µ–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Å Drag & Drop
import {DndContext, closestCenter} from '@dnd-kit/core';
import {SortableContext, verticalListSortingStrategy, useSortable} from '@dnd-kit/sortable';

type ColumnSettingsPanelProps = {
  columns: ColumnDef<User>[];
  columnVisibility: VisibilityState;
  onVisibilityChange: (visibility: VisibilityState) => void;
  columnOrder: ColumnOrderState;
  onOrderChange: (order: ColumnOrderState) => void;
}

function ColumnSettingsPanel({
  columns,
  columnVisibility,
  onVisibilityChange,
  columnOrder,
  onOrderChange,
}: ColumnSettingsPanelProps) {
  const handleDragEnd = (event: any) => {
    const {active, over} = event;
    if (active.id !== over.id) {
      const oldIndex = columnOrder.indexOf(active.id);
      const newIndex = columnOrder.indexOf(over.id);
      const newOrder = [...columnOrder];
      newOrder.splice(oldIndex, 1);
      newOrder.splice(newIndex, 0, active.id);
      onOrderChange(newOrder);
    }
  };

  return (
    <div style={{padding: '16px', minWidth: '250px'}}>
      <h4>Column Settings</h4>

      <DndContext collisionDetection={closestCenter} onDragEnd={handleDragEnd}>
        <SortableContext items={columnOrder} strategy={verticalListSortingStrategy}>
          {columnOrder.map((columnId) => {
            const column = columns.find(c => c.id === columnId);
            if (!column) return null;

            return (
              <SortableColumnItem
                key={columnId}
                id={columnId}
                label={column.header as string}
                visible={columnVisibility[columnId] !== false}
                onVisibilityChange={(visible) => {
                  onVisibilityChange({
                    ...columnVisibility,
                    [columnId]: visible,
                  });
                }}
              />
            );
          })}
        </SortableContext>
      </DndContext>
    </div>
  );
}

function SortableColumnItem({id, label, visible, onVisibilityChange}: any) {
  const {attributes, listeners, setNodeRef, transform, transition} = useSortable({id});

  const style = {
    transform: transform ? `translate3d(${transform.x}px, ${transform.y}px, 0)` : undefined,
    transition,
  };

  return (
    <div ref={setNodeRef} style={style} {...attributes} {...listeners}>
      <Checkbox
        checked={visible}
        onChange={(e) => onVisibilityChange(e.target.checked)}
      >
        {label}
      </Checkbox>
    </div>
  );
}
```

---

### 5. `withTableCopy` ‚Äî –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

#### ‚ùå –ë—ã–ª–æ

```typescript jsx
import React from 'react';
import {Table, withTableCopy} from '@gravity-ui/uikit';

const TableWithCopy = withTableCopy(Table);

function MyTable() {
  return (
    <TableWithCopy
      data={data}
      columns={columns}
      getRowId={(item) => item.id}
      allowCopy={true}
    />
  );
}
```

#### ‚úÖ –°—Ç–∞–ª–æ

```typescript jsx
import React from 'react';
import {Table, useTable} from '@gravity-ui/table';
import {Button, Toaster, Flex, Icon} from '@gravity-ui/uikit';
import {Copy} from '@gravity-ui/icons';
import type {ColumnDef} from '@gravity-ui/table/tanstack';

const toaster = new Toaster();

function MyTable() {
  // –§—É–Ω–∫—Ü–∏—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞
  const copyToClipboard = async (text: string) => {
    try {
      await navigator.clipboard.writeText(text);
      toaster.add({
        name: 'copy-success',
        title: 'Copied!',
        theme: 'success',
      });
    } catch (error) {
      toaster.add({
        name: 'copy-error',
        title: 'Failed to copy',
        theme: 'danger',
      });
    }
  };

  const columns: ColumnDef<User>[] = [
    {
      id: 'name',
      header: 'Name',
      accessorKey: 'name',
    },
    {
      id: 'email',
      header: 'Email',
      accessorKey: 'email',
      cell: ({getValue}) => {
        const email = getValue<string>();
        return (
          <Flex gap={2} alignItems="center">
            <span>{email}</span>
            <Button
              view="flat"
              size="xs"
              onClick={() => copyToClipboard(email)}
            >
              <Icon data={Copy} size={14} />
            </Button>
          </Flex>
        );
      },
    },
  ];

  // –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ–π —Ç–∞–±–ª–∏—Ü—ã
  const handleCopyAllData = () => {
    const csv = data
      .map(row => `${row.name}\t${row.email}`)
      .join('\n');
    copyToClipboard(csv);
  };

  const table = useTable({
    data,
    columns,
  });

  return (
    <>
      <Button onClick={handleCopyAllData}>
        Copy All Data
      </Button>

      <Table table={table} />
    </>
  );
}
```

---

## –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### 1. üå≥ –î—Ä–µ–≤–æ–≤–∏–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ (Tree Table)

**–û–¥–Ω–∞ –∏–∑ —Å–∞–º—ã—Ö –º–æ—â–Ω—ã—Ö —Ñ–∏—á –Ω–æ–≤–æ–π —Ç–∞–±–ª–∏—Ü—ã!**

```typescript jsx
import React from 'react';
import {Table, useTable} from '@gravity-ui/table';
import type {ColumnDef} from '@gravity-ui/table/tanstack';

type FileSystemItem = {
  id: string;
  name: string;
  type: 'file' | 'folder';
  size?: number;
  subRows?: FileSystemItem[]; // –í–ª–æ–∂–µ–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
}

const data: FileSystemItem[] = [
  {
    id: '1',
    name: 'Documents',
    type: 'folder',
    subRows: [
      {
        id: '1-1',
        name: 'Work',
        type: 'folder',
        subRows: [
          {id: '1-1-1', name: 'Report.pdf', type: 'file', size: 1024},
          {id: '1-1-2', name: 'Presentation.pptx', type: 'file', size: 2048},
        ],
      },
      {id: '1-2', name: 'Personal', type: 'folder', subRows: []},
    ],
  },
  {
    id: '2',
    name: 'Downloads',
    type: 'folder',
    subRows: [
      {id: '2-1', name: 'Image.png', type: 'file', size: 512},
    ],
  },
];

function TreeTable() {
  const [expanded, setExpanded] = React.useState({});

  const columns: ColumnDef<FileSystemItem>[] = [
    {
      id: 'name',
      header: 'Name',
      accessorKey: 'name',
      cell: ({row, getValue}) => (
        <div
          style={{
            paddingLeft: `${row.depth * 20}px`,
            display: 'flex',
            alignItems: 'center',
            gap: '8px',
          }}
        >
          {row.getCanExpand() ? (
            <button
              onClick={row.getToggleExpandedHandler()}
              style={{cursor: 'pointer'}}
            >
              {row.getIsExpanded() ? 'üìÇ' : 'üìÅ'}
            </button>
          ) : (
            <span>üìÑ</span>
          )}
          {getValue()}
        </div>
      ),
    },
    {
      id: 'type',
      header: 'Type',
      accessorKey: 'type',
    },
    {
      id: 'size',
      header: 'Size',
      accessorKey: 'size',
      cell: ({getValue}) => {
        const size = getValue<number>();
        return size ? `${size} KB` : '-';
      },
    },
  ];

  const table = useTable({
    data,
    columns,
    enableExpanding: true, // –í–∫–ª—é—á–∏—Ç—å —Ä–∞—Å–∫—Ä—ã—Ç–∏–µ —Å—Ç—Ä–æ–∫
    getSubRows: (row) => row.subRows, // –ü–æ–ª—É—á–∏—Ç—å –≤–ª–æ–∂–µ–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏
    state: {
      expanded,
    },
    onExpandedChange: setExpanded,
    // –†–∞—Å–∫—Ä—ã—Ç—å –≤—Å–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    initialState: {
      expanded: true,
    },
  });

  return (
    <Table table={table} />
  );
}
```

### 2. üìå –ó–∞–∫—Ä–µ–ø–ª–µ–Ω–∏–µ –∫–æ–ª–æ–Ω–æ–∫ (Column Pinning)

```typescript jsx
import React from 'react';
import {Table, useTable} from '@gravity-ui/table';
import {Button} from '@gravity-ui/uikit';
import type {ColumnDef, ColumnPinningState} from '@gravity-ui/table/tanstack';

function PinnedColumnsTable() {
  const [columnPinning, setColumnPinning] = React.useState<ColumnPinningState>({
    left: ['select', 'name'], // –ó–∞–∫—Ä–µ–ø–∏—Ç—å —Å–ª–µ–≤–∞
    right: ['actions'], // –ó–∞–∫—Ä–µ–ø–∏—Ç—å —Å–ø—Ä–∞–≤–∞
  });

  const columns: ColumnDef<User>[] = [
    {
      id: 'select',
      header: '‚òë',
      cell: ({row}) => <input type="checkbox" />,
      size: 50,
    },
    {
      id: 'name',
      header: 'Name',
      accessorKey: 'name',
      size: 200,
    },
    {
      id: 'email',
      header: 'Email',
      accessorKey: 'email',
      size: 250,
    },
    {
      id: 'department',
      header: 'Department',
      accessorKey: 'department',
      size: 150,
    },
    {
      id: 'position',
      header: 'Position',
      accessorKey: 'position',
      size: 150,
    },
    {
      id: 'actions',
      header: 'Actions',
      cell: () => <Button>Edit</Button>,
      size: 100,
    },
  ];

  const table = useTable({
    data,
    columns,
    enableColumnPinning: true, // –í–∫–ª—é—á–∏—Ç—å –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∏–µ
    state: {
      columnPinning,
    },
    onColumnPinningChange: setColumnPinning,
  });

  return (
    <Table table={table} />
  );
}
```

### 3. üìè –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –∫–æ–ª–æ–Ω–æ–∫ (Column Resizing)

```typescript jsx
import React from 'react';
import {Table, useTable} from '@gravity-ui/table';
import type {ColumnDef} from '@gravity-ui/table/tanstack';

function ResizableTable() {
  const [columnSizing, setColumnSizing] = React.useState({});

  const table = useTable({
    data,
    columns,
    enableColumnResizing: true, // –í–∫–ª—é—á–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞
    columnResizeMode: 'onChange', // 'onChange' | 'onEnd'
    state: {
      columnSizing,
    },
    onColumnSizingChange: setColumnSizing,
  });

  return (
    <Table table={table} />
  );
}
```

### 4. üé≠ –í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è (Virtualization)

**–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ 100,000+ —Å—Ç—Ä–æ–∫ –±–µ–∑ –ª–∞–≥–æ–≤!**

```typescript jsx
import React from 'react';
import {Table, useTable, useRowVirtualizer} from '@gravity-ui/table';

function VirtualizedTable() {
  // –û–≥—Ä–æ–º–Ω—ã–π –¥–∞—Ç–∞—Å–µ—Ç
  const data = React.useMemo(
    () => Array.from({length: 100000}, (_, i) => ({
      id: `${i}`,
      name: `User ${i}`,
      email: `user${i}@example.com`,
    })),
    []
  );

  const table = useTable({
    data,
    columns,
    getRowId: (row) => row.id,
  });

  const containerRef = React.useRef<HTMLDivElement>(null);

  const rowVirtualizer = useRowVirtualizer({
    count: table.getRowModel().rows.length,
    estimateSize: () => 50, // –û—Ü–µ–Ω–∫–∞ –≤—ã—Å–æ—Ç—ã —Å—Ç—Ä–æ–∫–∏
    overscan: 10, // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫ –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ –≤–∏–¥–∏–º–æ–π –æ–±–ª–∞—Å—Ç–∏
    getScrollElement: () => containerRef.current,
  });

  return (
    <div ref={containerRef} style={{height: '500px', overflow: 'auto'}}>
      <Table table={table} rowVirtualizer={rowVirtualizer} />
    </div>
  );
}
```

### 4.1. ü™ü –í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è –æ–∫–Ω–∞ (Window Virtualization)

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–∫–Ω–æ –∫–∞–∫ —ç–ª–µ–º–µ–Ω—Ç –ø—Ä–æ–∫—Ä—É—Ç–∫–∏**

```typescript jsx
import React from 'react';
import {Table, useTable, useWindowRowVirtualizer} from '@gravity-ui/table';

function WindowVirtualizedTable() {
  const data = React.useMemo(
    () => Array.from({length: 10000}, (_, i) => ({
      id: `${i}`,
      name: `User ${i}`,
      email: `user${i}@example.com`,
    })),
    []
  );

  const table = useTable({
    data,
    columns,
    getRowId: (row) => row.id,
  });

  const bodyRef = React.useRef<HTMLTableSectionElement>(null);

  const rowVirtualizer = useWindowRowVirtualizer({
    count: table.getRowModel().rows.length,
    estimateSize: () => 40,
    overscan: 5,
    scrollMargin: bodyRef.current?.offsetTop ?? 0,
  });

  return (
    <Table
      table={table}
      rowVirtualizer={rowVirtualizer}
      stickyHeader
      bodyRef={bodyRef}
    />
  );
}
```

### 4.2. üîÑ –ü–µ—Ä–µ—É–ø–æ—Ä—è–¥–æ—á–∏–≤–∞–Ω–∏–µ —Å—Ç—Ä–æ–∫ (Row Reordering)

**Drag-and-drop –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ—Ä—è–¥–∫–∞ —Å—Ç—Ä–æ–∫**

```typescript jsx
import React from 'react';
import {Table, useTable, ReorderingProvider, dragHandleColumn} from '@gravity-ui/table';
import type {ReorderingProviderProps, ColumnDef} from '@gravity-ui/table';

function ReorderableTable() {
  const [data, setData] = React.useState<User[]>([
    {id: '1', name: 'John', email: 'john@example.com'},
    {id: '2', name: 'Jane', email: 'jane@example.com'},
    {id: '3', name: 'Bob', email: 'bob@example.com'},
  ]);

  const columns: ColumnDef<User>[] = [
    dragHandleColumn as ColumnDef<User>, // –ö–æ–ª–æ–Ω–∫–∞ —Å —Ä—É—á–∫–æ–π –¥–ª—è –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è
    {
      id: 'name',
      header: 'Name',
      accessorKey: 'name',
    },
    {
      id: 'email',
      header: 'Email',
      accessorKey: 'email',
    },
  ];

  const table = useTable({
    columns,
    data,
    getRowId: (row) => row.id,
  });

  const handleReorder = React.useCallback<
    NonNullable<ReorderingProviderProps<User>['onReorder']>
  >(({draggedItemKey, baseItemKey}) => {
    setData((prevData) => {
      const dataClone = [...prevData];
      const index = dataClone.findIndex((item) => item.id === draggedItemKey);

      if (index >= 0) {
        const dragged = dataClone.splice(index, 1)[0];
        const insertIndex = dataClone.findIndex((item) => item.id === baseItemKey);

        if (insertIndex >= 0) {
          dataClone.splice(insertIndex + 1, 0, dragged);
        } else {
          dataClone.unshift(dragged);
        }
      }

      return dataClone;
    });
  }, []);

  return (
    <ReorderingProvider table={table} onReorder={handleReorder}>
      <Table table={table} />
    </ReorderingProvider>
  );
}
```

### 4.3. üîÑ –ü–µ—Ä–µ—É–ø–æ—Ä—è–¥–æ—á–∏–≤–∞–Ω–∏–µ —Å –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏–µ–π

**–ü–µ—Ä–µ—É–ø–æ—Ä—è–¥–æ—á–∏–≤–∞–Ω–∏–µ –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ç–∞–±–ª–∏—Ü —Å –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏–µ–π**

```typescript jsx
import React from 'react';
import {Table, useTable, useWindowRowVirtualizer, ReorderingProvider, dragHandleColumn, getVirtualRowRangeExtractor} from '@gravity-ui/table';
import type {ReorderingProviderProps, ColumnDef} from '@gravity-ui/table';

function ReorderableVirtualizedTable() {
  const tableRef = React.useRef<HTMLTableElement>(null);
  const [data, setData] = React.useState(() =>
    Array.from({length: 1000}, (_, i) => ({
      id: `${i}`,
      name: `User ${i}`,
      email: `user${i}@example.com`,
    }))
  );

  const columns: ColumnDef<User>[] = [
    dragHandleColumn as ColumnDef<User>,
    {
      id: 'name',
      header: 'Name',
      accessorKey: 'name',
    },
    {
      id: 'email',
      header: 'Email',
      accessorKey: 'email',
    },
  ];

  const table = useTable({
    columns,
    data,
    getRowId: (row) => row.id,
  });

  const bodyRef = React.useRef<HTMLTableSectionElement>(null);

  const rowVirtualizer = useWindowRowVirtualizer({
    count: table.getRowModel().rows.length,
    estimateSize: () => 20,
    overscan: 5,
    rangeExtractor: getVirtualRowRangeExtractor(tableRef.current),
    scrollMargin: bodyRef.current?.offsetTop ?? 0,
  });

  const handleReorder = React.useCallback<
    NonNullable<ReorderingProviderProps<User>['onReorder']>
  >(({draggedItemKey, baseItemKey}) => {
    setData((prevData) => {
      const dataClone = [...prevData];
      const index = dataClone.findIndex((item) => item.id === draggedItemKey);

      if (index >= 0) {
        const dragged = dataClone.splice(index, 1)[0];
        const insertIndex = dataClone.findIndex((item) => item.id === baseItemKey);

        if (insertIndex >= 0) {
          dataClone.splice(insertIndex + 1, 0, dragged);
        } else {
          dataClone.unshift(dragged);
        }
      }

      return dataClone;
    });
  }, []);

  return (
    <ReorderingProvider table={table} onReorder={handleReorder}>
      <Table
        ref={tableRef}
        table={table}
        rowVirtualizer={rowVirtualizer}
        stickyHeader
        bodyRef={bodyRef}
      />
    </ReorderingProvider>
  );
}
```

### 5. üîÑ –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ (Grouping)

```typescript jsx
import React from 'react';
import {Table, useTable} from '@gravity-ui/table';
import type {ColumnDef, GroupingState} from '@gravity-ui/table/tanstack';

function GroupedTable() {
  const [grouping, setGrouping] = React.useState<GroupingState>(['department']);

  const columns: ColumnDef<User>[] = [
    {
      id: 'department',
      header: 'Department',
      accessorKey: 'department',
      enableGrouping: true, // –†–∞–∑—Ä–µ—à–∏—Ç—å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫—É
    },
    {
      id: 'name',
      header: 'Name',
      accessorKey: 'name',
      cell: ({row, getValue}) => {
        if (row.getIsGrouped()) {
          // –†–µ–Ω–¥–µ—Ä –∑–∞–≥–æ–ª–æ–≤–∫–∞ –≥—Ä—É–ø–ø—ã
          return (
            <div>
              <strong>{getValue()}</strong>
              <span> ({row.subRows.length})</span>
            </div>
          );
        }
        return getValue();
      },
    },
    {
      id: 'position',
      header: 'Position',
      accessorKey: 'position',
      aggregationFn: 'count', // –§—É–Ω–∫—Ü–∏—è –∞–≥—Ä–µ–≥–∞—Ü–∏–∏
      cell: ({row, getValue}) => {
        if (row.getIsGrouped()) {
          return null;
        }
        return getValue();
      },
    },
  ];

  const table = useTable({
    data,
    columns,
    enableGrouping: true,
    state: {
      grouping,
    },
    onGroupingChange: setGrouping,
  });

  return (
    <Table table={table} />
  );
}
```

### 6. üîç –ì–ª–æ–±–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä—ã

```typescript jsx
import React from 'react';
import {Table, useTable} from '@gravity-ui/table';
import type {ColumnDef, ColumnFiltersState} from '@gravity-ui/table/tanstack';

function FilterableTable() {
  const [globalFilter, setGlobalFilter] = React.useState('');
  const [columnFilters, setColumnFilters] = React.useState<ColumnFiltersState>([]);

  const table = useTable({
    data,
    columns,
    enableGlobalFilter: true, // –ì–ª–æ–±–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫
    enableColumnFilters: true, // –§–∏–ª—å—Ç—Ä—ã –ø–æ –∫–æ–ª–æ–Ω–∫–∞–º
    state: {
      globalFilter,
      columnFilters,
    },
    onGlobalFilterChange: setGlobalFilter,
    onColumnFiltersChange: setColumnFilters,
  });

  return (
    <>
      {/* –ì–ª–æ–±–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫ */}
      <input
        type="text"
        placeholder="Search all columns..."
        value={globalFilter}
        onChange={(e) => setGlobalFilter(e.target.value)}
      />

      <Table table={table} />
    </>
  );
}

// –§–∏–ª—å—Ç—Ä—ã –≤ –∑–∞–≥–æ–ª–æ–≤–∫–∞—Ö –∫–æ–ª–æ–Ω–æ–∫
const columns: ColumnDef<User>[] = [
  {
    id: 'name',
    header: ({column}) => (
      <div>
        <span>Name</span>
        <input
          type="text"
          value={(column.getFilterValue() as string) || ''}
          onChange={(e) => column.setFilterValue(e.target.value)}
          placeholder="Filter..."
        />
      </div>
    ),
    accessorKey: 'name',
    filterFn: 'includesString', // –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
  },
  {
    id: 'status',
    header: 'Status',
    accessorKey: 'status',
    filterFn: (row, columnId, filterValue) => {
      // –ö–∞—Å—Ç–æ–º–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
      return row.getValue(columnId) === filterValue;
    },
  },
];
```

### 7. üìÑ –†–∞—Å—à–∏—Ä—è–µ–º—ã–µ —Å—Ç—Ä–æ–∫–∏ (Expanding Rows)

```typescript jsx
import React from 'react';
import {Table, useTable} from '@gravity-ui/table';
import type {ColumnDef} from '@gravity-ui/table/tanstack';

function ExpandableRowsTable() {
  const [expanded, setExpanded] = React.useState({});

  const columns: ColumnDef<User>[] = [
    {
      id: 'expander',
      header: '',
      cell: ({row}) => (
        row.getCanExpand() ? (
          <button onClick={row.getToggleExpandedHandler()}>
            {row.getIsExpanded() ? '‚ñº' : '‚ñ∂'}
          </button>
        ) : null
      ),
      size: 50,
    },
    // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∫–æ–ª–æ–Ω–∫–∏
  ];

  const table = useTable({
    data,
    columns,
    enableExpanding: true,
    getRowCanExpand: () => true, // –í—Å–µ —Å—Ç—Ä–æ–∫–∏ –º–æ–≥—É—Ç —Ä–∞—Å–∫—Ä—ã–≤–∞—Ç—å—Å—è
    state: {
      expanded,
    },
    onExpandedChange: setExpanded,
  });

  return (
    <Table
      table={table}
      getIsCustomRow={(row) => row.getIsExpanded() && !row.getIsGrouped()}
      renderCustomRowContent={({row, Cell}) => (
        <Cell colSpan={columns.length} style={{padding: '16px', backgroundColor: '#f5f5f5'}}>
          <h4>Details for {row.original.name}</h4>
          <p>Email: {row.original.email}</p>
          <p>Phone: {row.original.phone}</p>
          <p>Additional info goes here...</p>
        </Cell>
      )}
    />
  );
}
```

### 8. üìå –õ–∏–ø–∫–∏–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ (Sticky Header)

**–ó–∞–≥–æ–ª–æ–≤–æ–∫ —Ç–∞–±–ª–∏—Ü—ã –æ—Å—Ç–∞–µ—Ç—Å—è –≤–∏–¥–∏–º—ã–º –ø—Ä–∏ –ø—Ä–æ–∫—Ä—É—Ç–∫–µ**

```typescript jsx
import React from 'react';
import {Table, useTable} from '@gravity-ui/table';

function StickyHeaderTable() {
  const table = useTable({
    data,
    columns,
  });

  return (
    <div style={{height: '400px', overflow: 'auto'}}>
      <Table table={table} stickyHeader />
    </div>
  );
}
```

### 9. üìè –†–∞–∑–º–µ—Ä —Ç–∞–±–ª–∏—Ü—ã (Table Size)

**–†–∞–∑–ª–∏—á–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã —Ç–∞–±–ª–∏—Ü—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤**

```typescript jsx
import React from 'react';
import {Table, useTable} from '@gravity-ui/table';

function SizedTable() {
  const table = useTable({
    data,
    columns,
  });

  return (
    <>
      {/* –ú–∞–ª–µ–Ω—å–∫–∏–π —Ä–∞–∑–º–µ—Ä */}
      <Table table={table} size="s" />

      {/* –°—Ä–µ–¥–Ω–∏–π —Ä–∞–∑–º–µ—Ä (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) */}
      <Table table={table} size="m" />
    </>
  );
}
```

### 10. üîó –°—Å—ã–ª–∫–∏ –≤ —Å—Ç—Ä–æ–∫–∞—Ö (Row Links)

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—Å—ã–ª–æ–∫ –≤ —Å—Ç—Ä–æ–∫–∞—Ö —Ç–∞–±–ª–∏—Ü—ã**

```typescript jsx
import React from 'react';
import {Table, useTable, ExperimentalRowLink} from '@gravity-ui/table';
import type {ColumnDef} from '@gravity-ui/table/tanstack';

function TableWithRowLinks() {
  const columns: ColumnDef<User>[] = [
    {
      id: 'name',
      header: 'Name',
      accessorFn: (item) => (
        <ExperimentalRowLink href={`/users/${item.id}`}>
          {item.name}
        </ExperimentalRowLink>
      ),
      cell: (info) => info.getValue(),
    },
    {
      id: 'email',
      header: 'Email',
      accessorKey: 'email',
    },
  ];

  const table = useTable({
    data,
    columns,
  });

  return <Table table={table} />;
}
```

### 11. üì≠ –ü—É—Å—Ç–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç (Empty Content)

**–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞, –∫–æ–≥–¥–∞ —Ç–∞–±–ª–∏—Ü–∞ –ø—É—Å—Ç–∞**

```typescript jsx
import React from 'react';
import {Table, useTable} from '@gravity-ui/table';

function TableWithEmptyContent() {
  const table = useTable({
    data: [], // –ü—É—Å—Ç—ã–µ –¥–∞–Ω–Ω—ã–µ
    columns,
  });

  return (
    <Table
      table={table}
      emptyContent={<div>–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è</div>}
    />
  );
}
```

### 12. üìã –ì—Ä—É–ø–ø—ã –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ (Header Groups)

**–í–ª–æ–∂–µ–Ω–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∫–æ–ª–æ–Ω–æ–∫**

```typescript jsx
import React from 'react';
import {Table, useTable} from '@gravity-ui/table';
import type {ColumnDef} from '@gravity-ui/table/tanstack';

function TableWithHeaderGroups() {
  const columns: ColumnDef<User>[] = [
    {
      id: 'id',
      header: 'ID',
      accessorKey: 'id',
    },
    {
      id: 'personal-info',
      header: 'Personal Information',
      columns: [
        {
          id: 'name',
          header: 'Name',
          accessorKey: 'name',
        },
        {
          id: 'email',
          header: 'Email',
          accessorKey: 'email',
        },
      ],
    },
    {
      id: 'actions',
      header: 'Actions',
      columns: [
        {
          id: 'edit',
          header: 'Edit',
          accessorKey: 'id',
        },
        {
          id: 'delete',
          header: 'Delete',
          accessorKey: 'id',
        },
      ],
    },
  ];

  const table = useTable({
    data,
    columns,
  });

  return <Table table={table} />;
}
```

### 12.1. üìã –¢–∞–±–ª–∏—Ü–∞ –±–µ–∑ –∑–∞–≥–æ–ª–æ–≤–∫–∞ (Table Without Header)

**–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã –±–µ–∑ –∑–∞–≥–æ–ª–æ–≤–∫–∞**

```typescript jsx
import React from 'react';
import {Table, useTable} from '@gravity-ui/table';

function TableWithoutHeader() {
  const table = useTable({
    data,
    columns,
  });

  return (
    <Table
      table={table}
      withHeader={false}
    />
  );
}
```

### 13. üå≥ –í–∏—Ä—Ç—É–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –¥–µ—Ä–µ–≤–æ (Virtualized Tree)

**–î—Ä–µ–≤–æ–≤–∏–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Å –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏–µ–π –¥–ª—è –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤ –¥–∞–Ω–Ω—ã—Ö**

```typescript jsx
import React from 'react';
import {Table, useTable, useRowVirtualizer} from '@gravity-ui/table';
import type {ColumnDef, ExpandedState} from '@gravity-ui/table/tanstack';

function VirtualizedTreeTable() {
  const [expanded, setExpanded] = React.useState<ExpandedState>({});

  const table = useTable({
    data,
    columns,
    getSubRows: (row) => row.subRows,
    enableExpanding: true,
    state: {
      expanded,
    },
    onExpandedChange: setExpanded,
  });

  const containerRef = React.useRef<HTMLDivElement>(null);

  const rowVirtualizer = useRowVirtualizer({
    count: table.getRowModel().rows.length,
    estimateSize: () => 40,
    overscan: 1,
    getScrollElement: () => containerRef.current,
  });

  return (
    <div ref={containerRef} style={{height: '90vh', overflow: 'auto'}}>
      <Table
        table={table}
        rowVirtualizer={rowVirtualizer}
        headerCellAttributes={(header) => {
          if (header.column.id === 'name') {
            return {style: {paddingInlineStart: 36}};
          }
          return {};
        }}
      />
    </div>
  );
}
```

### 13.1. üìä Footer —Ç–∞–±–ª–∏—Ü—ã (Table Footer)

**–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ—É—Ç–µ—Ä–∞ –≤ —Ç–∞–±–ª–∏—Ü—É —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º**

```typescript jsx
import React from 'react';
import {Table, useTable} from '@gravity-ui/table';

function TableWithFooter() {
  const table = useTable({
    data,
    columns,
  });

  return (
    <Table
      table={table}
      withFooter={true}
      renderCustomFooterContent={({footerGroups, cellClassName, rowClassName}) => (
        <tr className={rowClassName}>
          <td colSpan={columns.length} className={cellClassName}>
            <div style={{display: 'flex', justifyContent: 'space-between', padding: '8px'}}>
              <span>Total: {data.length} items</span>
              <span>Sum: {data.reduce((sum, item) => sum + (item.amount || 0), 0)}</span>
            </div>
          </td>
        </tr>
      )}
      customFooterRowCount={1}
    />
  );
}
```

#### 13.1.1. –õ–∏–ø–∫–∏–π Footer

**Footer –æ—Å—Ç–∞–µ—Ç—Å—è –≤–∏–¥–∏–º—ã–º –ø—Ä–∏ –ø—Ä–æ–∫—Ä—É—Ç–∫–µ**

```typescript jsx
import React from 'react';
import {Table, useTable} from '@gravity-ui/table';

function TableWithStickyFooter() {
  const table = useTable({
    data,
    columns,
  });

  return (
    <div style={{height: '400px', overflow: 'auto'}}>
      <Table
        table={table}
        withFooter={true}
        stickyFooter={true}
        renderCustomFooterContent={({cellClassName, rowClassName}) => (
          <tr className={rowClassName}>
            <td colSpan={columns.length} className={cellClassName}>
              Footer content
            </td>
          </tr>
        )}
      />
    </div>
  );
}
```

### 14. üìê –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞–∑–º–µ—Ä –∫–æ–ª–æ–Ω–æ–∫ (Column Auto Sizing)

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç —à–∏—Ä–∏–Ω—ã –∫–æ–ª–æ–Ω–æ–∫ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ**

```typescript jsx
import React from 'react';
import {Table, useTable, experimentalUseColumnsAutoSize} from '@gravity-ui/table';
import type {ColumnDef} from '@gravity-ui/table/tanstack';

function AutoSizedTable() {
  const columns: ColumnDef<User>[] = React.useMemo(
    () => [
      {
        accessorKey: 'name',
        header: 'Name',
      },
      {
        accessorKey: 'email',
        header: 'Email',
      },
      {
        id: 'status',
        accessorFn: (row) => row.status,
        header: 'Status',
        cell: (info) => (
          <div className={`status-badge status-${info.getValue()}`}>
            {info.getValue()}
          </div>
        ),
      },
    ],
    []
  );

  // –í—ã—á–∏—Å–ª–µ–Ω–∏–µ —à–∏—Ä–∏–Ω—ã –∫–æ–ª–æ–Ω–æ–∫
  const {setTableInstance, columnsWithAutoSizes, isMeasuring} = experimentalUseColumnsAutoSize({
    columns,
    options: {
      minWidth: 80,
      maxWidth: 300,
      sampleSize: 100, // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫ –¥–ª—è –≤—ã–±–æ—Ä–∫–∏
      padding: 16, // –û—Ç—Å—Ç—É–ø –¥–ª—è —è—á–µ–µ–∫
      headerPadding: 24, // –û—Ç—Å—Ç—É–ø –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤
      measureHeaderText: true, // –£—á–∏—Ç—ã–≤–∞—Ç—å —Ç–µ–∫—Å—Ç –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤
      respectExistingWidths: true, // –°–æ—Ö—Ä–∞–Ω—è—Ç—å –ø—Ä–µ–¥–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ —à–∏—Ä–∏–Ω—ã
      respectResizedWidths: true, // –°–æ—Ö—Ä–∞–Ω—è—Ç—å –∏–∑–º–µ–Ω–µ–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º —à–∏—Ä–∏–Ω—ã
    },
  });

  // –°–æ–∑–¥–∞–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã
  const table = useTable({
    data,
    columns: columnsWithAutoSizes,
    enableColumnResizing: true,
    columnResizeMode: 'onChange',
  });

  // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ —ç–∫–∑–µ–º–ø–ª—è—Ä —Ç–∞–±–ª–∏—Ü—ã
  React.useEffect(() => {
    setTableInstance(table);
  }, [table, setTableInstance]);

  // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∑–∞–≥—Ä—É–∑—á–∏–∫ –≤–æ –≤—Ä–µ–º—è –∏–∑–º–µ—Ä–µ–Ω–∏—è
  if (isMeasuring) {
    return <div>Calculating column widths...</div>;
  }

  return <Table table={table} />;
}
```

#### 14.1. –° –ø—Ä–µ–¥–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º–∏ —à–∏—Ä–∏–Ω–∞–º–∏

**–•—É–∫ —É–≤–∞–∂–∞–µ—Ç –∫–æ–ª–æ–Ω–∫–∏ —Å –∑–∞–¥–∞–Ω–Ω—ã–º–∏ —Ä–∞–∑–º–µ—Ä–∞–º–∏**

```typescript jsx
import React from 'react';
import {Table, useTable, experimentalUseColumnsAutoSize} from '@gravity-ui/table';
import type {ColumnDef} from '@gravity-ui/table/tanstack';

function AutoSizedTableWithPredefinedWidths() {
  const columns: ColumnDef<User>[] = [
    {
      accessorKey: 'name',
      header: 'Name',
      // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞–∑–º–µ—Ä
    },
    {
      accessorKey: 'age',
      header: 'Age',
      size: 100, // –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —à–∏—Ä–∏–Ω–∞ - –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞
    },
    {
      accessorKey: 'email',
      header: 'Email',
      // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞–∑–º–µ—Ä
    },
  ];

  const {setTableInstance, columnsWithAutoSizes, isMeasuring} = experimentalUseColumnsAutoSize({
    columns,
    options: {
      respectExistingWidths: true, // –°–æ—Ö—Ä–∞–Ω—è—Ç—å –ø—Ä–µ–¥–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ —à–∏—Ä–∏–Ω—ã
    },
  });

  const table = useTable({
    data,
    columns: columnsWithAutoSizes,
    enableColumnResizing: true,
  });

  React.useEffect(() => {
    setTableInstance(table);
  }, [table, setTableInstance]);

  if (isMeasuring) {
    return <div>Calculating...</div>;
  }

  return <Table table={table} />;
}
```

#### 14.2. –° –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏ —à–∏—Ä–∏–Ω—ã

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —à–∏—Ä–∏–Ω—ã**

```typescript jsx
import React from 'react';
import {Table, useTable, experimentalUseColumnsAutoSize} from '@gravity-ui/table';
import type {ColumnDef} from '@gravity-ui/table/tanstack';

function AutoSizedTableWithCustomLimits() {
  const {setTableInstance, columnsWithAutoSizes, isMeasuring} = experimentalUseColumnsAutoSize({
    columns,
    options: {
      minWidth: 100, // –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞ 100px
      maxWidth: 250, // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞ 250px
      padding: 24, // –ë–æ–ª—å—à–µ –æ—Ç—Å—Ç—É–ø–æ–≤
    },
  });

  const table = useTable({
    data,
    columns: columnsWithAutoSizes,
    enableColumnResizing: true,
  });

  React.useEffect(() => {
    setTableInstance(table);
  }, [table, setTableInstance]);

  if (isMeasuring) {
    return <div>Calculating...</div>;
  }

  return <Table table={table} />;
}
```

#### 14.3. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –±–æ–ª—å—à–∏—Ö –¥–∞—Ç–∞—Å–µ—Ç–æ–≤

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–µ–Ω—å—à–µ–π –≤—ã–±–æ—Ä–∫–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**

```typescript jsx
import React from 'react';
import {Table, useTable, experimentalUseColumnsAutoSize} from '@gravity-ui/table';
import type {ColumnDef} from '@gravity-ui/table/tanstack';

function AutoSizedTableOptimized() {
  const {setTableInstance, columnsWithAutoSizes, isMeasuring} = experimentalUseColumnsAutoSize({
    columns,
    options: {
      sampleSize: 20, // –ò–∑–º–µ—Ä—è–µ–º —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤—ã–µ 20 —Å—Ç—Ä–æ–∫ –≤–º–µ—Å—Ç–æ –≤—Å–µ—Ö
      minWidth: 80,
      maxWidth: 300,
    },
  });

  const table = useTable({
    data: largeDataset, // –û–≥—Ä–æ–º–Ω—ã–π –¥–∞—Ç–∞—Å–µ—Ç
    columns: columnsWithAutoSizes,
  });

  React.useEffect(() => {
    setTableInstance(table);
  }, [table, setTableInstance]);

  if (isMeasuring) {
    return <div>Calculating column widths...</div>;
  }

  return <Table table={table} />;
}
```

#### 14.4. –° –∫–∞—Å—Ç–æ–º–Ω—ã–º —Ä–µ–Ω–¥–µ—Ä–µ—Ä–æ–º –¥–ª—è –∏–∑–º–µ—Ä–µ–Ω–∏—è

**–ö–æ–≥–¥–∞ –Ω—É–∂–Ω—ã –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –≤ —è—á–µ–π–∫–∞—Ö**

```typescript jsx
import React from 'react';
import {Table, useTable, experimentalUseColumnsAutoSize, experimentalRenderElementForMeasure as defaultRenderElementForMeasure} from '@gravity-ui/table';
import type {ColumnDef} from '@gravity-ui/table/tanstack';
import {Provider} from 'react-redux';

function AutoSizedTableWithProvider() {
  // –ö–∞—Å—Ç–æ–º–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–µ—Ä —Å –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–º
  const experimentalRenderElementForMeasure = React.useCallback(
    (element?: React.ReactNode) => {
      return (
        <Provider store={store}>
          {defaultRenderElementForMeasure(element)}
        </Provider>
      );
    },
    []
  );

  const {setTableInstance, columnsWithAutoSizes, isMeasuring} = experimentalUseColumnsAutoSize({
    columns,
    experimentalRenderElementForMeasure,
    options: {
      minWidth: 80,
      maxWidth: 300,
    },
  });

  const table = useTable({
    data,
    columns: columnsWithAutoSizes,
  });

  React.useEffect(() => {
    setTableInstance(table);
  }, [table, setTableInstance]);

  if (isMeasuring) {
    return <div>Calculating...</div>;
  }

  return <Table table={table} />;
}
```

### 15. üé® –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Å—Ç–∏–ª–∏ —Å—Ç—Ä–æ–∫ –∏ —è—á–µ–µ–∫

```typescript jsx
import React from 'react';
import {Table, useTable} from '@gravity-ui/table';
import type {ColumnDef} from '@gravity-ui/table/tanstack';

const columns: ColumnDef<User>[] = [
  {
    id: 'status',
    header: 'Status',
    accessorKey: 'status',
    cell: ({getValue}) => {
      const status = getValue<string>();
      const colorMap = {
        active: 'green',
        inactive: 'gray',
        pending: 'orange',
      };

      return (
        <span
          style={{
            color: colorMap[status],
            fontWeight: 'bold',
            padding: '4px 8px',
            borderRadius: '4px',
            backgroundColor: `${colorMap[status]}22`,
          }}
        >
          {status.toUpperCase()}
        </span>
      );
    },
  },
];

// –£—Å–ª–æ–≤–Ω—ã–µ —Å—Ç–∏–ª–∏ —Å—Ç—Ä–æ–∫
function StyledTable() {
  const table = useTable({
    data,
    columns,
  });

  return (
    <Table
      table={table}
      rowClassName={(row) => {
        const isHighlighted = row.original.isVIP;
        return isHighlighted ? 'highlighted-row' : '';
      }}
    />
  );
}

// –ò–ª–∏ —á–µ—Ä–µ–∑ CSS
// .highlighted-row {
//   background-color: #fff3cd;
//   font-weight: bold;
// }
```

---

## –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã

### –ü—Ä–∏–º–µ—Ä 1: –°–ª–æ–∂–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º

```typescript jsx
import React from 'react';
import {Table, useTable} from '@gravity-ui/table';
import {Button, Flex, TextInput, Select} from '@gravity-ui/uikit';
import type {
  ColumnDef,
  SortingState,
  RowSelectionState,
  ColumnFiltersState,
  VisibilityState,
  PaginationState,
} from '@gravity-ui/table/tanstack';

type Employee = {
  id: string;
  name: string;
  email: string;
  department: string;
  position: string;
  salary: number;
  startDate: string;
  status: 'active' | 'inactive' | 'pending';
}

function AdvancedEmployeeTable() {
  // –°–æ—Å—Ç–æ—è–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã
  const [data, setData] = React.useState<Employee[]>([]);
  const [sorting, setSorting] = React.useState<SortingState>([]);
  const [rowSelection, setRowSelection] = React.useState<RowSelectionState>({});
  const [columnFilters, setColumnFilters] = React.useState<ColumnFiltersState>([]);
  const [columnVisibility, setColumnVisibility] = React.useState<VisibilityState>({});
  const [pagination, setPagination] = React.useState<PaginationState>({
    pageIndex: 0,
    pageSize: 10,
  });

  // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
  React.useEffect(() => {
    fetchEmployees().then(setData);
  }, []);

  // –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ–ª–æ–Ω–æ–∫
  const columns: ColumnDef<Employee>[] = [
    {
      id: 'select',
      header: ({table}) => (
        <input
          type="checkbox"
          checked={table.getIsAllRowsSelected()}
          indeterminate={table.getIsSomeRowsSelected()}
          onChange={table.getToggleAllRowsSelectedHandler()}
        />
      ),
      cell: ({row}) => (
        <input
          type="checkbox"
          checked={row.getIsSelected()}
          disabled={!row.getCanSelect()}
          onChange={row.getToggleSelectedHandler()}
        />
      ),
      size: 50,
      enableSorting: false,
      enableResizing: false,
    },
    {
      id: 'name',
      header: 'Name',
      accessorKey: 'name',
      size: 200,
      enableSorting: true,
      enableResizing: true,
      cell: ({getValue}) => <strong>{getValue()}</strong>,
    },
    {
      id: 'email',
      header: 'Email',
      accessorKey: 'email',
      size: 250,
      enableSorting: true,
    },
    {
      id: 'department',
      header: ({column}) => (
        <div>
          <div>Department</div>
          <Select
            value={column.getFilterValue() as string}
            onUpdate={(value) => column.setFilterValue(value[0])}
            options={[
              {value: 'all', content: 'All'},
              {value: 'Engineering', content: 'Engineering'},
              {value: 'Sales', content: 'Sales'},
              {value: 'Marketing', content: 'Marketing'},
            ]}
          />
        </div>
      ),
      accessorKey: 'department',
      size: 150,
      enableColumnFilter: true,
    },
    {
      id: 'position',
      header: 'Position',
      accessorKey: 'position',
      size: 200,
    },
    {
      id: 'salary',
      header: 'Salary',
      accessorKey: 'salary',
      size: 120,
      cell: ({getValue}) => `$${getValue<number>().toLocaleString()}`,
      enableSorting: true,
    },
    {
      id: 'startDate',
      header: 'Start Date',
      accessorKey: 'startDate',
      size: 120,
      cell: ({getValue}) => new Date(getValue<string>()).toLocaleDateString(),
      enableSorting: true,
    },
    {
      id: 'status',
      header: 'Status',
      accessorKey: 'status',
      size: 100,
      cell: ({getValue}) => {
        const status = getValue<string>();
        const colors = {
          active: 'green',
          inactive: 'gray',
          pending: 'orange',
        };
        return (
          <span style={{color: colors[status]}}>
            {status.toUpperCase()}
          </span>
        );
      },
    },
    {
      id: 'actions',
      header: 'Actions',
      cell: ({row}) => (
        <Flex gap={2}>
          <Button size="s" onClick={() => handleEdit(row.original)}>
            Edit
          </Button>
          <Button size="s" view="outlined-danger" onClick={() => handleDelete(row.original)}>
            Delete
          </Button>
        </Flex>
      ),
      size: 150,
      enableSorting: false,
    },
  ];

  // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–µ–π—Å—Ç–≤–∏–π
  const handleEdit = (employee: Employee) => {
    console.log('Edit:', employee);
  };

  const handleDelete = (employee: Employee) => {
    console.log('Delete:', employee);
  };

  const handleBulkDelete = () => {
    const selectedIds = Object.keys(rowSelection).filter(key => rowSelection[key]);
    console.log('Bulk delete:', selectedIds);
  };

  const handleExport = () => {
    const csv = data
      .map(emp => `${emp.name},${emp.email},${emp.department},${emp.position}`)
      .join('\n');
    // –≠–∫—Å–ø–æ—Ä—Ç CSV
    const blob = new Blob([csv], {type: 'text/csv'});
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = 'employees.csv';
    a.click();
  };

  const table = useTable({
    data,
    columns,
    // –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
    enableSorting: true,
    enableMultiSort: true,
    onSortingChange: setSorting,
    // –í—ã–±–æ—Ä —Å—Ç—Ä–æ–∫
    enableRowSelection: true,
    onRowSelectionChange: setRowSelection,
    // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è
    enableColumnFilters: true,
    onColumnFiltersChange: setColumnFilters,
    // –í–∏–¥–∏–º–æ—Å—Ç—å –∫–æ–ª–æ–Ω–æ–∫
    enableHiding: true,
    onColumnVisibilityChange: setColumnVisibility,
    // –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–≤
    enableColumnResizing: true,
    columnResizeMode: 'onChange',
    // –ü–∞–≥–∏–Ω–∞—Ü–∏—è
    onPaginationChange: setPagination,
    pageCount: Math.ceil(data.length / pagination.pageSize),
    // ID —Å—Ç—Ä–æ–∫
    getRowId: (row) => row.id,
    // Table state
    state: {sorting, rowSelection, columnFilters, columnVisibility, pagination},
  });

  return (
    <div>
      {/* –ü–∞–Ω–µ–ª—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ */}
      <Flex justifyContent="space-between" gap={2} style={{marginBottom: '16px'}}>
        <Flex gap={2}>
          <Button
            onClick={handleBulkDelete}
            disabled={Object.keys(rowSelection).length === 0}
          >
            Delete Selected ({Object.keys(rowSelection).filter(k => rowSelection[k]).length})
          </Button>
          <Button onClick={handleExport}>
            Export CSV
          </Button>
        </Flex>

        <TextInput
          placeholder="Search..."
          onUpdate={(value) => {
            // –ì–ª–æ–±–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫
            setColumnFilters([{id: 'name', value}]);
          }}
        />
      </Flex>

      {/* –¢–∞–±–ª–∏—Ü–∞ */}
      <Table table={table} />

      {/* –ü–∞–≥–∏–Ω–∞—Ü–∏—è */}
      <Flex justifyContent="space-between" alignItems="center" style={{marginTop: '16px'}}>
        <div>
          Showing {pagination.pageIndex * pagination.pageSize + 1} to{' '}
          {Math.min((pagination.pageIndex + 1) * pagination.pageSize, data.length)} of{' '}
          {data.length} entries
        </div>
        <Flex gap={2}>
          <Button
            onClick={() => setPagination(prev => ({...prev, pageIndex: 0}))}
            disabled={pagination.pageIndex === 0}
          >
            First
          </Button>
          <Button
            onClick={() => setPagination(prev => ({...prev, pageIndex: prev.pageIndex - 1}))}
            disabled={pagination.pageIndex === 0}
          >
            Previous
          </Button>
          <Button
            onClick={() => setPagination(prev => ({...prev, pageIndex: prev.pageIndex + 1}))}
            disabled={pagination.pageIndex >= Math.ceil(data.length / pagination.pageSize) - 1}
          >
            Next
          </Button>
          <Button
            onClick={() =>
              setPagination(prev => ({
                ...prev,
                pageIndex: Math.ceil(data.length / pagination.pageSize) - 1,
              }))
            }
            disabled={pagination.pageIndex >= Math.ceil(data.length / pagination.pageSize) - 1}
          >
            Last
          </Button>
        </Flex>
      </Flex>
    </div>
  );
}
```

### –ü—Ä–∏–º–µ—Ä 2: –î—Ä–µ–≤–æ–≤–∏–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ —Å —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π

```typescript jsx
import React from 'react';
import {Table, useTable} from '@gravity-ui/table';
import {Button, Flex} from '@gravity-ui/uikit';
import type {ColumnDef} from '@gravity-ui/table/tanstack';

type FileNode = {
  id: string;
  name: string;
  type: 'file' | 'folder';
  size?: number;
  modified: string;
  owner: string;
  subRows?: FileNode[];
}

function FileSystemTable() {
  const [expanded, setExpanded] = React.useState({});

  const columns: ColumnDef<FileNode>[] = [
    {
      id: 'name',
      header: 'Name',
      accessorKey: 'name',
      cell: ({row, getValue}) => {
        const icon = row.original.type === 'folder'
          ? (row.getIsExpanded() ? 'üìÇ' : 'üìÅ')
          : 'üìÑ';

        return (
          <div
            style={{
              paddingLeft: `${row.depth * 24}px`,
              display: 'flex',
              alignItems: 'center',
              gap: '8px',
            }}
          >
            {row.getCanExpand() && (
              <button
                onClick={row.getToggleExpandedHandler()}
                style={{
                  cursor: 'pointer',
                  background: 'none',
                  border: 'none',
                  padding: 0,
                }}
              >
                {row.getIsExpanded() ? '‚ñº' : '‚ñ∂'}
              </button>
            )}
            <span>{icon}</span>
            <span>{getValue()}</span>
          </div>
        );
      },
      size: 400,
    },
    {
      id: 'size',
      header: 'Size',
      accessorKey: 'size',
      cell: ({getValue, row}) => {
        if (row.original.type === 'folder') {
          const totalSize = calculateFolderSize(row.original);
          return totalSize ? `${formatBytes(totalSize)}` : '-';
        }
        return getValue() ? formatBytes(getValue<number>()) : '-';
      },
      size: 100,
    },
    {
      id: 'modified',
      header: 'Modified',
      accessorKey: 'modified',
      cell: ({getValue}) => new Date(getValue<string>()).toLocaleString(),
      size: 180,
    },
    {
      id: 'owner',
      header: 'Owner',
      accessorKey: 'owner',
      size: 150,
    },
    {
      id: 'actions',
      header: '',
      cell: ({row}) => (
        <Flex gap={1}>
          <Button size="s" view="flat">Download</Button>
          <Button size="s" view="flat">Share</Button>
          <Button size="s" view="flat-danger">Delete</Button>
        </Flex>
      ),
      size: 200,
    },
  ];

  const table = useTable({
    data: fileSystemData,
    columns,
    enableExpanding: true,
    getSubRows: (row) => row.subRows,
    state: {expanded},
    onExpandedChange: setExpanded,
    getRowId: (row) => row.id,
  });

  return (
    <Table table={table} />
  );
}

// –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
function calculateFolderSize(folder: FileNode): number {
  let total = 0;
  if (folder.subRows) {
    for (const item of folder.subRows) {
      if (item.type === 'file' && item.size) {
        total += item.size;
      } else if (item.type === 'folder') {
        total += calculateFolderSize(item);
      }
    }
  }
  return total;
}

function formatBytes(bytes: number): string {
  if (bytes === 0) return '0 Bytes';
  const k = 1024;
  const sizes = ['Bytes', 'KB', 'MB', 'GB'];
  const i = Math.floor(Math.log(bytes) / Math.log(k));
  return `${parseFloat((bytes / Math.pow(k, i)).toFixed(2))} ${sizes[i]}`;
}
```

### –ü—Ä–∏–º–µ—Ä 3: –¢–∞–±–ª–∏—Ü–∞ —Å –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏–µ–π –∏ –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ–π –ø—Ä–æ–∫—Ä—É—Ç–∫–æ–π

```typescript jsx
import React from 'react';
import {Table, useTable, useRowVirtualizer} from '@gravity-ui/table';
import {useInfiniteQuery} from '@tanstack/react-query';

function InfiniteScrollTable() {
  const {
    data,
    fetchNextPage,
    hasNextPage,
    isFetchingNextPage,
  } = useInfiniteQuery({
    queryKey: ['users'],
    queryFn: async ({pageParam = 0}) => {
      const response = await fetch(`/api/users?page=${pageParam}&limit=50`);
      return response.json();
    },
    getNextPageParam: (lastPage, pages) => {
      return lastPage.hasMore ? pages.length : undefined;
    },
  });

  const flatData = React.useMemo(
    () => data?.pages.flatMap(page => page.data) ?? [],
    [data]
  );

  const table = useTable({
    data: flatData,
    columns,
    getRowId: (row) => row.id,
  });

  const containerRef = React.useRef<HTMLDivElement>(null);

  const rowVirtualizer = useRowVirtualizer({
    count: table.getRowModel().rows.length,
    estimateSize: () => 50,
    overscan: 5,
    getScrollElement: () => containerRef.current,
  });

  const fetchMoreOnBottomReached = React.useCallback(
    (containerRefElement?: HTMLDivElement | null) => {
      if (containerRefElement) {
        const {scrollHeight, scrollTop, clientHeight} = containerRefElement;
        if (
          scrollHeight - scrollTop - clientHeight < 300 &&
          !isFetchingNextPage &&
          hasNextPage
        ) {
          fetchNextPage();
        }
      }
    },
    [fetchNextPage, isFetchingNextPage, hasNextPage]
  );

  return (
    <div
      ref={containerRef}
      onScroll={(e) => fetchMoreOnBottomReached(e.target as HTMLDivElement)}
      style={{height: '600px', overflow: 'auto'}}
    >
      <Table table={table} rowVirtualizer={rowVirtualizer} />
      {isFetchingNextPage && <div>Loading more...</div>}
    </div>
  );
}
```

---

## –ß–µ–∫-–ª–∏—Å—Ç –º–∏–≥—Ä–∞—Ü–∏–∏

### –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞

- [ ] –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—É—â–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã
- [ ] –í—ã—è–≤–∏—Ç—å –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ HOC –∏ —Å–≤–æ–π—Å—Ç–≤–∞
- [ ] –û—Ü–µ–Ω–∏—Ç—å —Å–ª–æ–∂–Ω–æ—Å—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `@gravity-ui/table`

### –ë–∞–∑–æ–≤–∞—è –º–∏–≥—Ä–∞—Ü–∏—è

- [ ] –ó–∞–º–µ–Ω–∏—Ç—å –∏–º–ø–æ—Ä—Ç —Å `@gravity-ui/uikit` –Ω–∞ `@gravity-ui/table`
- [ ] –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–æ–ª–æ–Ω–æ–∫ (`name` ‚Üí `header`, `template` ‚Üí `cell`)
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Ç–∏–ø–∏–∑–∞—Ü–∏—é `ColumnDef<YourType>[]`
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –±–∞–∑–æ–≤–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ

### –ú–∏–≥—Ä–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞

- [ ] –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É (`withTableSorting` ‚Üí `enableSorting`)
- [ ] –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤—ã–±–æ—Ä —Å—Ç—Ä–æ–∫ (`withTableSelection` ‚Üí `enableRowSelection`)
- [ ] –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –¥–µ–π—Å—Ç–≤–∏—è (`withTableActions` ‚Üí –∫–æ–ª–æ–Ω–∫–∞ —Å –∫–Ω–æ–ø–∫–∞–º–∏)
- [ ] –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–ª–æ–Ω–æ–∫ (`withTableSettings` ‚Üí `enableHiding`)
- [ ] –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ (`withTableCopy` ‚Üí –∫–∞—Å—Ç–æ–º–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)

### –£–ª—É—á—à–µ–Ω–∏—è

- [ ] –î–æ–±–∞–≤–∏—Ç—å –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—é –¥–ª—è –±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∏–µ –∫–æ–ª–æ–Ω–æ–∫, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–æ–≤ –∫–æ–ª–æ–Ω–æ–∫
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é
- [ ] –î–æ–±–∞–≤–∏—Ç—å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫—É, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- [ ] –£–±–µ–¥–∏—Ç—å—Å—è –≤ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ —Ç–∏–ø–æ–≤ TypeScript
- [ ] –ü—Ä–æ–≤–µ—Å—Ç–∏ –∫–æ–¥-—Ä–µ–≤—å—é

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ `@gravity-ui/table` ‚Äî —ç—Ç–æ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏—è –≤ –±—É–¥—É—â–µ–µ –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –í—ã –ø–æ–ª—É—á–∞–µ—Ç–µ:

- ‚ö° **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è, –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥
- üéØ **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**: –¥—Ä–µ–≤–æ–≤–∏–¥–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã, –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞, –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∏–µ –∫–æ–ª–æ–Ω–æ–∫
- üí™ **–ì–∏–±–∫–æ—Å—Ç—å**: –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º, headless-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- üîß **–ü–æ–¥–¥–µ—Ä–∂–∫–∞**: TanStack Table ‚Äî –∏–Ω–¥—É—Å—Ç—Ä–∏–∞–ª—å–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç —Å –æ–≥—Ä–æ–º–Ω—ã–º –∫–æ–º—å—é–Ω–∏—Ç–∏
- üìò **–¢–∏–ø–∏–∑–∞—Ü–∏—è**: –ø–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ TypeScript –∏–∑ –∫–æ—Ä–æ–±–∫–∏

–î–∞, –º–∏–≥—Ä–∞—Ü–∏—è —Ç—Ä–µ–±—É–µ—Ç —É—Å–∏–ª–∏–π, –Ω–æ –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ–ø—Ä–∞–≤–¥—ã–≤–∞–µ—Ç –∑–∞—Ç—Ä–∞—Ç—ã. –ù–∞—á–Ω–∏—Ç–µ —Å –ø—Ä–æ—Å—Ç—ã—Ö —Å–ª—É—á–∞–µ–≤, –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –Ω–∞—Ä–∞—â–∏–≤–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å, –∏ –≤—ã —É–≤–∏–¥–∏—Ç–µ, –∫–∞–∫ –Ω–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã —Ä–∞–Ω—å—à–µ.

**–£–¥–∞—á–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏! üöÄ**
